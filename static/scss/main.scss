$hexRotation: 60deg;

[draggable] {
    -moz-user-select: none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    /* Required to make elements draggable in old WebKit */
    -khtml-user-drag: element;
    -webkit-user-drag: element;

    &.being-dragged {
        opacity: 0.5;
    }
}

.row {
    display: flex;
    flex-direction: row;
    position: relative;


    @for $var from 2 through 100 {
        &:nth-child(#{$var}) {
            top: -(23px * ($var - 1));
        }
    }

    &:nth-child(even) {
        left:38px;
    }

    .cell-wrapper {
        position:relative;
        overflow: visible;

        &[data-board-ref]:before {
            content:'';
            position:absolute;
            background-repeat: no-repeat;
            width: 1024px;
            height: 1024px;
        }

        $tiles:
            ('a1a', -1px, 46px)
            ('a1b', -19px, 46px)
            ('a2a', -3px, 46px)
            ('a2b', -18px, 46px)
            ('a3a', -3px, 46px)
            ('a3b', -18px, 46px)
            ('a4a', -3px, 46px)
            ('a4b', -18px, 46px)

            ('b1a', -21px, -53px)
            ('b1b', -21px, -53px)
            ('b2a', -21px, -53px)
            ('b2b', -21px, -53px)
            ('b3a', -21px, -53px)
            ('b3b', -21px, -53px)
            ('b4a', -21px, -53px)
            ('b4b', -21px, -53px)

            ('c1a', -61px, -45px)
            ('c1b', -61px, -45px)
            ('c2a', -61px, -45px)
            ('c2b', -61px, -45px)

            ('d1a', -59px, -50x)
            ('d1b', -59px, -50x)
            ('d2a', -59px, -50x)
            ('d2b', -59px, -50x)

            ('e1a', 12px, -44px)
            ('e1b', 12px, -44px)

            ('f1a', -24px, -45px)
            ('f1b', -24px, -45px)

            ('g1a', -22px, -48px)
            ('g1b', -22px, -48px)
            ('g2a', -22px, -48px)
            ('g2b', -22px, -48px)

            ('h1a', 15px, -40px)
            ('h1b', 15px, -40px)
            ('h2a', 15px, -40px)
            ('h2b', 15px, -40px)
            ('h3a', 15px, -40px)
            ('h3b', 15px, -40px)

            ('i1a', -25px, -47px)
            ('i1b', -25px, -47px)
            ('i2a', -25px, -47px)
            ('i2b', -25px, -47px)

            ('j1a', -25px, -51px)
            ('j1b', -24px, -49px)
            ('j2a', -25px, -52px)
            ('j2b', -24px, -49px)

            ('k1a', -56px, -47px)
            ('k1b', -71px, -47px)
            ('k2a', -73px, -45px)
            ('k2b', -56px, -47px)

            ('l1a', -25px, -47px)
            ('l1b', -25px, -47px)
            ('l2a', -25px, -47px)
            ('l2b', -25px, -47px)
            ('l3a', -25px, -47px)
            ('l3b', -25px, -47px)

            ('m1a', -20px, -45px)
            ('m1b', -22px, -46px)
        ;
        @each $tile in $tiles {
            $key: nth($tile, 1);
            $left: nth($tile, 2);
            $top: nth($tile, 3);

            &[data-board-ref='#{$key}']:before {
                background-image: url('/img/map-tiles/#{$key}.png');
                left: $left;
                top: $top;
            }
        }

        .cell {
            width: 76px;
            height: 90px;

            .hexagon {
                width: 100%;
                height: 100%;
                clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);

                &.passable {
                    background-color: rgba(0, 0, 255, 0.75);
                }

                &.impassable {
                    background-color: rgba(255, 0, 0, 0.75);
                }

                .player {
                    cursor: move;
                    width: 100%;
                    height: 100%;
                    position:relative;
                    clip-path:inherit;
                }
            }
        }
    }
}