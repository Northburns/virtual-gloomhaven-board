$hexRotation: 60deg;

[draggable] {
    -moz-user-select: none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    /* Required to make elements draggable in old WebKit */
    -khtml-user-drag: element;
    -webkit-user-drag: element;

    &.being-dragged {
        opacity: 0.5;
    }
}

.row {
    display: flex;
    flex-direction: row;
    position: relative;


    @for $var from 2 through 100 {
        &:nth-child(#{$var}) {
            top: -(25px * ($var - 1));
        }
    }

    &:nth-child(even) {
        left:38px;
    }

    .cell-wrapper {
        position:relative;
        overflow: visible;

        &[data-board-ref]:before {
            content:'';
            position:absolute;
            background-repeat: no-repeat;
            width: 1024px;
            height: 1024px;
        }

        $tiles:
            ('a1a', -1px, 46px)
            ('a1b', -19px, 46px)
            ('a2a', -3px, 46px)
            ('a2b', -18px, 46px)
            ('a3a', -3px, 46px)
            ('a3b', -18px, 46px)
            ('a4a', -3px, 46px)
            ('a4b', -18px, 46px)

            ('b1a', -21px, -53px)
            ('b1b', -21px, -53px)
            ('b2a', -21px, -53px)
            ('b2b', -21px, -53px)
            ('b3a', -21px, -53px)
            ('b3b', -21px, -53px)
            ('b4a', -21px, -53px)
            ('b4b', -21px, -53px)

            ('c1a', -61px, -42px)
            ('c1b', -61px, -42px)
            ('c2a', -61px, -42px)
            ('c2b', -61px, -42px)
        ;
        @each $tile in $tiles {
            $key: nth($tile, 1);
            $left: nth($tile, 2);
            $top: nth($tile, 3);

            &[data-board-ref='#{$key}']:before {
                background-image: url('/img/map-tiles/#{$key}.png');
                left: $left;
                top: $top;
            }
        }

        .cell {
            width: 76px;
            height: 94px;

            .hexagon {
                width: 100%;
                height: 100%;
                clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);

                &.passable {
                    background-color: rgba(0, 0, 255, 0.75);
                    opacity: 0.5;
                }

                &.impassable {
                    background-color: rgba(255, 0, 0, 0.75);
                }

                .player {
                    width: 100%;
                    height: 100%;
                    clip-path:inherit;
                }
            }
        }
    }
}